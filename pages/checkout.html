<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµå¸³ï½œè±æ”¶æ–¼å£</title>

    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="../assets/css/member_related.css">
    <link rel="stylesheet" href="../assets/css/cart.css">

    <script src="../assets/js/lang_data.js"></script>
    <script src="../assets/js/lang.js"></script>
    <script src="../assets/js/HomeScript.js"></script>
    <script src="../assets/js/auth.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1><a href="../index.html">è±æ”¶æ–¼å£ Harvest Bite</a></h1>
                <p><span class="i18n">å¥åº·ç³•é¤…</span></p>
            </div>
            <nav>
                <ul>
                    <li><a href="menu.html" class="i18n">ç”¢å“è³‡è¨Š</a></li>
                    <li><a href="faq.html" class="i18n">å¸¸è¦‹å•é¡Œ</a></li>
                    <li><a href="login.html" class="i18n">æœƒå“¡ä¸­å¿ƒ</a></li>
                    <li><a id="lang_switch" href="">English</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="grid" style="gap:18px;">
        <h2 class="section-title"><span class="i18n">çµå¸³</span></h2>
        <div class="card">
        <form id="profileForm" class="grid">
            <div>
            <label for="editName" class="i18n">å§“å</label>
            <input id="editName" type="text" placeholder="å§“å Name" />
            </div>
            <div class="grid two">
            <div>
                <label for="editPhone" class="i18n">æ‰‹æ©Ÿ</label>
                <input id="editPhone" type="tel" placeholder="09xx-xxx-xxx" />
            </div>
            <div>
                <label for="editAddress" class="i18n">åœ°å€</label>
                <input id="editAddress" type="text" placeholder="åœ°å€ Address" />
            </div>
            </div>
            <div>
                <label for="editpayment" class="i18n">ä»˜æ¬¾æ–¹å¼</label><br>
                <select id="method" class="payment">
                        <option class="i18n">ä¿¡ç”¨å¡ä»˜æ¬¾</option>
                        <option class="i18n">ç¾é‡‘è²¨åˆ°ä»˜æ¬¾</option>
                        <option class="i18n">ATMè½‰å¸³åŒ¯æ¬¾</option>
                </select>
            </div>
            <br>

            <div class="actions">
            <button class="btn"><span class="i18n" onclick="alert('çµå¸³æˆåŠŸï¼Œæ„Ÿè¬æ‚¨çš„è³¼è²·\nCheckout Successful, thanks for shopping')">ç¢ºèªçµå¸³</span></button>
            </div>
            </form>
        </div>
    </main>


    <div class="cart-icon" onclick="toggleCart()">ğŸ›’ <span class="cart-count" id="cart-count">0</span></div>
    <div class="cart-panel" id="cart-panel">
        <div class="cart-header">
            <h3 class="i18n">æ‚¨çš„è³¼ç‰©è»Š</h3>
            <button class="close-cart" onclick="toggleCart()">Ã—</button>
        </div>
        <div id="cart-items"></div>
        
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>è±æ”¶æ–¼å£ Harvest Bite</h3>
                    <p><span class="i18n">å¸¶çµ¦æ‚¨å¥åº·çš„ç”œé»é«”é©—</span></p>
                </div>
                <div class="footer-section">
                    <h3 class="i18n">å¿«é€Ÿé€£çµ</h3>
                    <ul>
                        <li><a href="../index.html#home" class="i18n">å›é¦–é </a></li>
                        <li><a href="../index.html#about" class="i18n">é—œæ–¼æˆ‘å€‘</a></li>
                        <li><a href="../index.html#hot" class="i18n">ç†±éŠ·ç”¢å“</a></li>
                        <li><a href="../index.html#contact" class="i18n">è¯çµ¡æˆ‘å€‘</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3 class="i18n">è¨‚é–±é›»å­å ±</h3>
                    <p><span class="i18n">ç²å–æœ€æ–°çš„ç”¢å“èˆ‡å„ªæƒ è³‡è¨Šã€‚</span></p>
                    <form id="subscribeForm">
                        <input type="email" placeholder="æ‚¨çš„é›»å­éƒµä»¶ Your Mail" required>
                        <button type="submit"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Harvest Bite. <span class="i18n">ç‰ˆæ¬Šæ‰€æœ‰ã€‚</span></p>
        </div>
    </footer>

    <script>
        const u = getCurrentUser();

        if (!u) {
            alert("è«‹å…ˆç™»å…¥å¾Œå†çµå¸³\nPlease Log In First before Checkout.");
            requireLogin(); 
        } else {
            document.getElementById("editName").value = u.name || "";
            document.getElementById("editPhone").value = u.phone || "";
            document.getElementById("editAddress").value = u.address || "";
        }

        document.getElementById("profileForm").addEventListener("submit", updateProfileSubmit);
        
    </script>
</body>
</html>