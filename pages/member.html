<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æœƒå“¡è³‡æ–™ï½œè±æ”¶æ–¼å£ Harvest Bite</title>
  
  <link rel="stylesheet" href="../assets/css/global.css">
  <link rel="stylesheet" href="../assets/css/member_related.css">

  <script src="../assets/js/lang_data.js"></script>
  <script src="../assets/js/lang.js"></script>
  <script src="../assets/js/auth.js"></script>
  <script src="../assets/js/orders.js"></script>

</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1><a href="../index.html">è±æ”¶æ–¼å£ Harvest Bite</a></h1>
                <p><span class="i18n">å¥åº·ç³•é¤…</span></p>
            </div>
            <nav>
                <ul>

                    <li><a href="menu.html" class="i18n">ç”¢å“è³‡è¨Š</a></li>
                    <li><a href="faq.html" class="i18n">å¸¸è¦‹å•é¡Œ</a></li>
                    <li><a href="login.html" class="i18n">æœƒå“¡ä¸­å¿ƒ</a></li>
                    <li><a id="lang_switch" href="">English</a></li>
                </ul>
            </nav>
        </div>
    </header>

  <main class="grid" style="gap:18px;">
    <div class="card">
      <h2 class="section-title i18n">æœƒå“¡è³‡æ–™</h2>
      <p class="muted i18n">å—¨ï¼Œ<b id="welcomeName">æœƒå“¡</b> ğŸ‘‹</p>

      <div class="kv">
        <div>Email</div><div id="displayEmail"></div>
        <div class="i18n">æ‰‹æ©Ÿ</div><div id="displayPhone"></div>
        <div class="i18n">åœ°å€</div><div id="displayAddress"></div>
      </div>

      <div class="actions">
        <button class="btn secondary" type="button" onclick="logout()"><span class="i18n">ç™»å‡º</span></button>
      </div>
    </div>

    <!--è¨‚å–®ç´€éŒ„-->
    <div class="card" style="padding-bottom: 5%;">
      <h3 style="margin:0; cursor:pointer; display:flex; justify-content:space-between; align-items:center;" onclick="toggleOrder()">
        <span class="i18n">æ­·å²è¨‚å–®ç´€éŒ„</span>
        <span id="order-arrow">â–¼</span>
      </h3>
      
      <div id="order-display-area" style="display: none; margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px; max-height: 400px; overflow-y: auto;">
        <div id="order-items-list"></div>
      </div>
    </div>


    <div class="card">
      <h3 style="margin:0 0 12px; font-size:18px;" class="i18n">ç·¨è¼¯æœƒå“¡è³‡æ–™</h3>
      <form id="profileForm" class="grid">
        <div>
          <label for="editName" class="i18n">å§“å</label>
          <input id="editName" type="text" placeholder="æ›´æ–°å§“å Update Name" />
        </div>
        <div class="grid two">
          <div>
            <label for="editPhone" class="i18n">æ‰‹æ©Ÿ</label>
            <input id="editPhone" type="tel" placeholder="09xx-xxx-xxx" />
          </div>
          <div>
            <label for="editAddress" class="i18n">åœ°å€</label>
            <input id="editAddress" type="text" placeholder="æ›´æ–°åœ°å€ Update Address" />
          </div>
        </div>

        <div class="actions">
          <button class="btn" type="submit" onclick="  alert('æœƒå“¡è³‡æ–™å·²æ›´æ–°ï¼ \nMember information has been updated!')"><span class="i18n">å„²å­˜ä¿®æ”¹</span></button>
        </div>

        <!--<div class="hint">è³‡æ–™æœƒåŒæ­¥å„²å­˜åœ¨ç€è¦½å™¨ localStorageï¼ˆç¤ºç¯„ç”¨é€”ï¼‰ã€‚</div>-->
      </form>
    </div>
  </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>è±æ”¶æ–¼å£ Harvest Bite</h3>
                    <p><span class="i18n">å¸¶çµ¦æ‚¨å¥åº·çš„ç”œé»é«”é©—</span></p>
                </div>
                <div class="footer-section">
                    <h3 class="i18n">å¿«é€Ÿé€£çµ</h3>
                    <ul>
                        <li><a href="../index.html#home" class="i18n">å›é¦–é </a></li>
                        <li><a href="../index.html#about" class="i18n">é—œæ–¼æˆ‘å€‘</a></li>
                        <li><a href="../index.html#hot" class="i18n">ç†±éŠ·ç”¢å“</a></li>
                        <li><a href="../index.html#contact" class="i18n">è¯çµ¡æˆ‘å€‘</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3 class="i18n">è¨‚é–±é›»å­å ±</h3>
                    <p><span class="i18n">ç²å–æœ€æ–°çš„ç”¢å“èˆ‡å„ªæƒ è³‡è¨Šã€‚</span></p>
                    <form id="subscribeForm">
                        <input type="email" placeholder="æ‚¨çš„é›»å­éƒµä»¶ Your Mail" required>
                        <button type="submit"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Harvest Bite. <span class="i18n">ç‰ˆæ¬Šæ‰€æœ‰ã€‚</span></p>
        </div>
    </footer>

  <script>
    renderMember();

    const u = getCurrentUser();
    if (u){
      document.getElementById("editName").value = u.name || "";
      document.getElementById("editPhone").value = u.phone || "";
      document.getElementById("editAddress").value = u.address || "";
    }

    document.getElementById("profileForm").addEventListener("submit", updateProfileSubmit);
  </script>
  
</body>
</html>
